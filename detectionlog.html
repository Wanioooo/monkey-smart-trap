<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detection Logs - Monkey SmartTrap</title>
    <link rel="stylesheet" href="detectionlog.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo">
                    <img src="images/logo.jpg" alt="Monkey SmartTrap Logo" class="logo-img">
                </div>
                <div class="title-section">
                    <h1>Monkey SmartTrap</h1>
                    <p>Intelligent Trap Detection System</p>
                </div>
            </div>
            <div class="header-icons">
                <button class="icon-btn notification-btn" id="notificationBtn">
                    ğŸ””
                    <span class="notification-badge">3</span>
                </button>
                <button class="icon-btn profile-btn" id="profileBtn">ğŸ‘¤</button>
            </div>
        </div>
    </header>

    <!-- Notification Dropdown -->
    <div class="notification-dropdown" id="notificationDropdown">
        <div class="notification-header">
            <h3>Notifications</h3>
            <button class="mark-read">Mark all as read</button>
        </div>
        <div class="notification-list">
            <div class="notification-item unread">
                <div class="notification-icon">ğŸš¨</div>
                <div class="notification-content">
                    <p><strong>Monkey detected in Cage A</strong></p>
                    <span class="notification-time">2 minutes ago</span>
                </div>
            </div>
            <div class="notification-item unread">
                <div class="notification-icon">âœ…</div>
                <div class="notification-content">
                    <p><strong>Alert sent successfully</strong></p>
                    <span class="notification-time">5 minutes ago</span>
                </div>
            </div>
            <div class="notification-item">
                <div class="notification-icon">âš™ï¸</div>
                <div class="notification-content">
                    <p><strong>System maintenance completed</strong></p>
                    <span class="notification-time">1 hour ago</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Dropdown -->
    <div class="profile-dropdown" id="profileDropdown">
        <div class="profile-header">
            <div class="profile-avatar">ğŸ‘¤</div>
            <div class="profile-info">
                <h3>Admin User</h3>
                <p>admin@smarttrap.com</p>
            </div>
        </div>
        <div class="profile-menu">
            <a href="#" class="profile-menu-item">ğŸ‘¤ My Profile</a>
            <a href="#" class="profile-menu-item">âš™ï¸ Account Settings</a>
            <a href="#" class="profile-menu-item">ğŸ”” Notification Preferences</a>
            <a href="#" class="profile-menu-item">â“ Help & Support</a>
            <a href="#" class="profile-menu-item logout">ğŸšª Log Out</a>
        </div>
    </div>

    <!-- Sidebar Toggle Button -->
    <button class="sidebar-toggle" id="sidebarToggle">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <nav class="nav-menu">
            <a href="dashboard.html" class="nav-item">Dashboard</a>
            <a href="livemonitor.html" class="nav-item">Live monitor</a>
            <a href="detectionlog.html" class="nav-item active">Detection Logs</a>
            <a href="settings.html" class="nav-item">Settings</a>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <h1 class="page-title">Detection History Log</h1>

        <!-- Filters -->
        <div class="filters-section">
            <button class="filter-btn" id="dateRangeBtn">
                ğŸ“… Date Range
            </button>
            <div class="filter-dropdown">
                <select id="cageFilter" class="filter-select">
                    <option value="all">Filter : All Cage</option>
                    <option value="A">Cage A</option>
                    <option value="B">Cage B</option>
                    <option value="C">Cage C</option>
                    <option value="D">Cage D</option>
                    <option value="E">Cage E</option>
                    <option value="F">Cage F</option>
                </select>
            </div>
            <div class="export-buttons">
                <button class="export-btn pdf-btn">ğŸ“„ Export PDF</button>
                <button class="export-btn csv-btn">ğŸ“Š Export CSV</button>
            </div>
        </div>

        <!-- Date Range Picker Modal -->
        <div class="date-modal" id="dateModal">
            <div class="date-modal-content">
                <h3>Select Date Range</h3>
                <div class="date-inputs">
                    <div class="date-field">
                        <label>From:</label>
                        <input type="date" id="dateFrom">
                    </div>
                    <div class="date-field">
                        <label>To:</label>
                        <input type="date" id="dateTo">
                    </div>
                </div>
                <div class="date-modal-actions">
                    <button class="modal-btn cancel-btn" id="cancelDateBtn">Cancel</button>
                    <button class="modal-btn apply-btn" id="applyDateBtn">Apply</button>
                </div>
            </div>
        </div>

        <!-- Table -->
        <div class="table-container">
            <table class="detection-table">
                <thead>
                    <tr>
                        <th>Date & Time</th>
                        <th>Cage</th>
                        <th>Count</th>
                        <th>Alert Status</th>
                        <th>Image</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Data will be inserted here by JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- Pagination -->
        <div class="pagination" id="pagination">
            <button class="page-btn prev-btn" id="prevBtn">â®</button>
            <div class="page-numbers" id="pageNumbers"></div>
            <button class="page-btn next-btn" id="nextBtn">â¯</button>
        </div>
    </main>

    <!-- Image View Modal -->
    <div class="image-modal" id="imageModal">
        <span class="close-image-modal" id="closeImageModal">&times;</span>
        <div class="image-modal-content">
            <h3 id="imageModalTitle">Detection Image</h3>
            <img id="modalImage" src="" alt="Detection Image">
            <div class="image-info">
                <p><strong>Cage:</strong> <span id="modalCage"></span></p>
                <p><strong>Time:</strong> <span id="modalTime"></span></p>
                <p><strong>Count:</strong> <span id="modalCount"></span></p>
                <p><strong>Status:</strong> <span id="modalStatus"></span></p>
            </div>
        </div>
    </div>

    <script src="auth.js"></script>
    <script src="detectionlog.js"></script>
</body>
</html>